{"version":3,"sources":["../../../../src/components/AdaptivityProvider/AdaptivityProvider.tsx"],"sourcesContent":["import * as React from 'react';\nimport { hasMouse as _hasPointer } from '@vkontakte/vkjs';\nimport { ViewHeight, ViewWidth } from '../../lib/adaptivity';\nimport { HasChildren } from '../../types';\nimport { AdaptivityContext, type AdaptivityProps } from './AdaptivityContext';\n\nexport interface AdaptivityProviderProps extends AdaptivityProps, HasChildren {}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/AdaptivityProvider\n */\nexport const AdaptivityProvider = ({\n  viewWidth,\n  viewHeight,\n  sizeX: sizeXProp,\n  sizeY: sizeYProp,\n  hasPointer,\n  hasHover,\n  children,\n}: AdaptivityProviderProps) => {\n  const adaptivity = React.useMemo(() => {\n    const nextProps: AdaptivityProps = {\n      viewWidth,\n      viewHeight,\n      sizeX: sizeXProp,\n      sizeY: sizeYProp,\n      hasPointer,\n      hasHover,\n    };\n    if (sizeXProp === undefined && viewWidth !== undefined) {\n      if (viewWidth <= ViewWidth.MOBILE) {\n        nextProps.sizeX = 'compact';\n      } else {\n        nextProps.sizeX = 'regular';\n      }\n    }\n    if (sizeYProp === undefined && viewWidth !== undefined && viewHeight !== undefined) {\n      if (\n        (viewWidth >= ViewWidth.SMALL_TABLET && _hasPointer) ||\n        viewHeight <= ViewHeight.EXTRA_SMALL\n      ) {\n        nextProps.sizeY = 'compact';\n      } else {\n        nextProps.sizeY = 'regular';\n      }\n    }\n    return nextProps;\n  }, [viewWidth, viewHeight, sizeXProp, sizeYProp, hasPointer, hasHover]);\n\n  return <AdaptivityContext.Provider value={adaptivity}>{children}</AdaptivityContext.Provider>;\n};\n"],"names":["React","hasMouse","_hasPointer","ViewHeight","ViewWidth","AdaptivityContext","AdaptivityProvider","viewWidth","viewHeight","sizeX","sizeXProp","sizeY","sizeYProp","hasPointer","hasHover","children","adaptivity","useMemo","nextProps","undefined","MOBILE","SMALL_TABLET","EXTRA_SMALL","Provider","value"],"mappings":"AAAA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,YAAYC,WAAW,QAAQ,kBAAkB;AAC1D,SAASC,UAAU,EAAEC,SAAS,QAAQ,uBAAuB;AAE7D,SAASC,iBAAiB,QAA8B,sBAAsB;AAI9E;;CAEC,GACD,OAAO,MAAMC,qBAAqB,CAAC,EACjCC,SAAS,EACTC,UAAU,EACVC,OAAOC,SAAS,EAChBC,OAAOC,SAAS,EAChBC,UAAU,EACVC,QAAQ,EACRC,QAAQ,EACgB;IACxB,MAAMC,aAAahB,MAAMiB,OAAO,CAAC;QAC/B,MAAMC,YAA6B;YACjCX;YACAC;YACAC,OAAOC;YACPC,OAAOC;YACPC;YACAC;QACF;QACA,IAAIJ,cAAcS,aAAaZ,cAAcY,WAAW;YACtD,IAAIZ,aAAaH,UAAUgB,MAAM,EAAE;gBACjCF,UAAUT,KAAK,GAAG;YACpB,OAAO;gBACLS,UAAUT,KAAK,GAAG;YACpB;QACF;QACA,IAAIG,cAAcO,aAAaZ,cAAcY,aAAaX,eAAeW,WAAW;YAClF,IACE,AAACZ,aAAaH,UAAUiB,YAAY,IAAInB,eACxCM,cAAcL,WAAWmB,WAAW,EACpC;gBACAJ,UAAUP,KAAK,GAAG;YACpB,OAAO;gBACLO,UAAUP,KAAK,GAAG;YACpB;QACF;QACA,OAAOO;IACT,GAAG;QAACX;QAAWC;QAAYE;QAAWE;QAAWC;QAAYC;KAAS;IAEtE,qBAAO,oBAACT,kBAAkBkB,QAAQ;QAACC,OAAOR;OAAaD;AACzD,EAAE"}